<?php
 interface iUmiTemplater {public function setScope($v7552cd149af7495ee7d8225974e50f80, $v16b2b26000987faccb260b9d39df1269 = false);public static function loadTemplates($v9cd3487945daada914909f0b525e1284);public static function getTemplates($v9cd3487945daada914909f0b525e1284);}abstract class umiTemplater implements iUmiTemplater {protected $templatesSource;protected $scopeElementId = false, $scopeObjectId = false, $scopeObject = false;abstract public function parse($v87cd8b8808600624d8c590cfc2e6e94b, $v9a0364b9e99bb480dd25e1f0284c8555 = null);public function __construct($v9cd3487945daada914909f0b525e1284) {$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$this->templatesSource = $v9cd3487945daada914909f0b525e1284;}public function setScope($v7552cd149af7495ee7d8225974e50f80, $v16b2b26000987faccb260b9d39df1269 = false) {$this->scopeElementId = $v7552cd149af7495ee7d8225974e50f80;$this->scopeObjectId = $v16b2b26000987faccb260b9d39df1269;$this->scopeObject = false;}public function getScopeObject() {if ($this->scopeObject !== false) return $this->scopeObject;if($this->scopeElementId === false && $this->scopeObjectId === false) {return $this->scopeObject = null;}$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();$v5891da2d64975cae48d175d1e001f5da = umiObjectsCollection::getInstance();if ($this->scopeElementId && ($v8e2dcfd7e7e24b1ca76c1193f645902b = $vb81ca7c0ccaa77e7aa91936ab0070695->getElement($this->scopeElementId))) {return $this->scopeObject = $v8e2dcfd7e7e24b1ca76c1193f645902b->getObject();}if ($this->scopeObjectId && ($va8cfde6331bd59eb2ac96f8911c4b666 = $v5891da2d64975cae48d175d1e001f5da->getObject($this->scopeObjectId))) {return $this->scopeObject = $va8cfde6331bd59eb2ac96f8911c4b666;}return $this->scopeObject = null;}public function cleanup($v9a0364b9e99bb480dd25e1f0284c8555) {$v41275a535677f79ff347e01bc530c176 = permissionsCollection::getInstance();$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();if (!$v41275a535677f79ff347e01bc530c176->isAdmin() && (int) $v2245023265ae4cf87d02c8b6ba991139->get('system', 'clean-eip-attributes')) {$v9a0364b9e99bb480dd25e1f0284c8555 = $this->cleanEIPAttributes($v9a0364b9e99bb480dd25e1f0284c8555);}if (!intval($v2245023265ae4cf87d02c8b6ba991139->get("kernel", "show-broken-macro"))) {$v9a0364b9e99bb480dd25e1f0284c8555 = $this->cleanBrokenMacro($v9a0364b9e99bb480dd25e1f0284c8555);}return $v9a0364b9e99bb480dd25e1f0284c8555;}public static final function create($v599dcce2998a6b40b1e38e8c6006cb0a, $v9cd3487945daada914909f0b525e1284 = null) {$v599dcce2998a6b40b1e38e8c6006cb0a = strtoupper($v599dcce2998a6b40b1e38e8c6006cb0a);if (!strlen($v599dcce2998a6b40b1e38e8c6006cb0a)) {throw new coreException("Templater type required for create instance.");}$v6f66e878c62db60568a3487869695820 = __CLASS__ . $v599dcce2998a6b40b1e38e8c6006cb0a;if (!class_exists($v6f66e878c62db60568a3487869695820)) {$v47826cacc65c665212b821e6ff80b9b0 =  dirname(__FILE__) . '/types/' . $v6f66e878c62db60568a3487869695820 . '.php';if (!is_file($v47826cacc65c665212b821e6ff80b9b0)) {throw new coreException("Can't load templater implemantation \"{$v47826cacc65c665212b821e6ff80b9b0}\".");}require_once $v47826cacc65c665212b821e6ff80b9b0;}if (!class_exists($v6f66e878c62db60568a3487869695820)) {throw new coreException("Templater class \"{$v6f66e878c62db60568a3487869695820}\" not found");}$v640eac53ad75db5c49a9ec86390d8530 = new $v6f66e878c62db60568a3487869695820($v9cd3487945daada914909f0b525e1284);if (!$v640eac53ad75db5c49a9ec86390d8530 instanceof umiTemplater) {throw new coreException("Templater class \"{$v6f66e878c62db60568a3487869695820}\" should be instance of " . __CLASS__);}return $v640eac53ad75db5c49a9ec86390d8530;}public function getTemplatesSource() {return $this->templatesSource;}public function setFilePath($v47826cacc65c665212b821e6ff80b9b0) {$this->templatesSource = $v47826cacc65c665212b821e6ff80b9b0;}public static $blocks = Array();public static function pushEditable($v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce, $vb80bb7740288fda1f201890375a60c8f) {if($v22884db148f0ffb0d830ba431102b0b5 === false && $vea9f6aca279138c58f705c8d4cb4b8ce === false) {if($v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($vb80bb7740288fda1f201890375a60c8f)) {$v94efb9bd8805ffa2a3d248cbe836b6ef = $v8e2dcfd7e7e24b1ca76c1193f645902b->getTypeId();if($v481a5f16b24d461e31d85aba607238b8 = umiObjectTypesCollection::getInstance()->getType($v94efb9bd8805ffa2a3d248cbe836b6ef)) {$v09f4280d9972439d11df682357c4b807 = $v481a5f16b24d461e31d85aba607238b8->getHierarchyTypeId();if($v5f8d8192d2d4ff7e065aaf1958d15913 = umiHierarchyTypesCollection::getInstance()->getType($v09f4280d9972439d11df682357c4b807)) {$v22884db148f0ffb0d830ba431102b0b5 = $v5f8d8192d2d4ff7e065aaf1958d15913->getName();$vea9f6aca279138c58f705c8d4cb4b8ce = $v5f8d8192d2d4ff7e065aaf1958d15913->getExt();}else {return false;}}}}self::$blocks[] = array($v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce, $vb80bb7740288fda1f201890375a60c8f);return true;}public static function prepareQuickEdit() {$v5e72c7891093d301b60783c6a47f7aa0 = self::$blocks;if(sizeof($v5e72c7891093d301b60783c6a47f7aa0) == 0) return;$v3c6e0b8a9c15224a8228b9a98ca1531d = md5("http://" . getServer('HTTP_HOST') . getServer('REQUEST_URI'));$_SESSION[$v3c6e0b8a9c15224a8228b9a98ca1531d] = $v5e72c7891093d301b60783c6a47f7aa0;}final public static function getSomething($v0f4153145310ca3a80263d772ccd01d4 = "pro", $v524605ba82e4bb94b84e3a394c2b5879 = null) {$v520579a4307a11304874d3845f4e67cb = domainsCollection::getInstance()->getDefaultDomain();$v3545bca7585a63de97c30a1e6cd8992b = getServer('SERVER_ADDR');$v43c8ce94d81492e62c60092a3664a65f = ($v3545bca7585a63de97c30a1e6cd8992b) ? md5($v3545bca7585a63de97c30a1e6cd8992b) : md5(str_replace("\\", "", getServer('DOCUMENT_ROOT')));$v834c51a71b8c3cca066197db43bb209d = '';$v67b3dba8bc6778101892eb77249db32e = is_null($v524605ba82e4bb94b84e3a394c2b5879) ? $v520579a4307a11304874d3845f4e67cb->getHost() : $v524605ba82e4bb94b84e3a394c2b5879;switch($v0f4153145310ca3a80263d772ccd01d4) {case "pro":     $v834c51a71b8c3cca066197db43bb209d = md5(md5(md5(md5(md5(md5(md5(md5(md5(md5($v67b3dba8bc6778101892eb77249db32e))))))))));break;case "shop":     $v834c51a71b8c3cca066197db43bb209d =  md5(md5($v67b3dba8bc6778101892eb77249db32e . "shop"));break;case "lite":     $v834c51a71b8c3cca066197db43bb209d = md5(md5(md5(md5(md5($v67b3dba8bc6778101892eb77249db32e)))));break;case "start":     $v834c51a71b8c3cca066197db43bb209d = md5(md5(md5($v67b3dba8bc6778101892eb77249db32e)));break;case "trial": {$v834c51a71b8c3cca066197db43bb209d = md5(md5(md5(md5(md5(md5($v67b3dba8bc6778101892eb77249db32e))))));}}$v90fdeb3fda515dc805fa06fda3504d5c = strtoupper(substr($v43c8ce94d81492e62c60092a3664a65f, 0, 11) . "-" . substr($v834c51a71b8c3cca066197db43bb209d, 0, 11));return $v90fdeb3fda515dc805fa06fda3504d5c;}protected function cleanEIPAttributes($v9a0364b9e99bb480dd25e1f0284c8555) {return preg_replace('/[\s+]umi\:[^=\'"]+=["\'][^"\']*["\']/i', '', $v9a0364b9e99bb480dd25e1f0284c8555);}protected function cleanBrokenMacro($v9a0364b9e99bb480dd25e1f0284c8555) {$v9a0364b9e99bb480dd25e1f0284c8555 = preg_replace("/%(?!cut%)([A-z_]{3,})%/m", "", $v9a0364b9e99bb480dd25e1f0284c8555);$v9a0364b9e99bb480dd25e1f0284c8555 = preg_replace("/%([A-zА-Яа-я0-9]+\s+[A-zА-Яа-я0-9_]+\([A-zА-Яа-я \/\._\-\(\)0-9%:<>,!@\|'&=;\?\+#]*\))%/mu", "", $v9a0364b9e99bb480dd25e1f0284c8555);return $v9a0364b9e99bb480dd25e1f0284c8555;}public function putLangs($v9a0364b9e99bb480dd25e1f0284c8555) {return def_module::parseTPLMacroses($v9a0364b9e99bb480dd25e1f0284c8555);}public function parseInput($va43c1b0aa53a0c908810c06ab1ff3967, $vc9e9a848920877e76685b2e4e76de38d = 1) {return def_module::parseTPLMacroses($va43c1b0aa53a0c908810c06ab1ff3967);}public function init() {}public function getIsInited() {return def_module::isXSLTResultMode();}public function setIsInited($v22af645d1859cb5ca6da0c484f1f37ea) {return def_module::isXSLTResultMode($v22af645d1859cb5ca6da0c484f1f37ea);}public function parseResult() {return $this->parse(array(), null);}}?>